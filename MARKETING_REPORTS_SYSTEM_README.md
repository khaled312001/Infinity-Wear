# نظام تقارير المندوبين التسويقيين - إنفينيتي وير

## نظرة عامة
تم إنشاء نظام شامل لإدارة تقارير المندوبين التسويقيين في لوحة تحكم فريق المبيعات. يتيح هذا النظام للمندوبين التسويقيين إنشاء وإدارة تقارير مفصلة عن زياراتهم وعملياتهم التسويقية.

## الميزات الرئيسية

### 1. إنشاء التقارير
- **معلومات المندوب**: اختيار من قائمة المندوبين (عمرو الدسوقي، محمد علي)
- **معلومات الجهة**: اسم الجهة، النشاط، العنوان التفصيلي
- **رفع الصور**: إمكانية رفع ما يصل إلى 5 صور للمكان (10 MB لكل صورة)
- **معلومات المسئول**: الاسم، رقم الجوال، المنصب
- **تفاصيل الزيارة**: نوع الزيارة، حالة الاتفاق، مخاوف العميل
- **التفاصيل التجارية**: الكمية المستهدفة، الاستهلاك السنوي
- **التوصيات والخطوات**: توصيات مقترحة، الخطوات اللاحقة

### 2. إدارة التقارير
- **عرض التقارير**: قائمة شاملة بجميع التقارير مع إمكانية البحث والفلترة
- **تعديل التقارير**: إمكانية تعديل أي تقرير موجود
- **حذف التقارير**: إمكانية حذف التقارير مع التأكيد
- **تغيير الحالة**: إدارة حالات التقارير (قيد المراجعة، موافق عليه، مرفوض، قيد المراجعة)

### 3. الإحصائيات والتقارير
- **إحصائيات عامة**: إجمالي التقارير، التقارير المعلقة، الموافق عليها، هذا الشهر
- **إحصائيات المندوبين**: عدد التقارير لكل مندوب
- **إحصائيات حالة الاتفاق**: توزيع التقارير حسب حالة الاتفاق
- **تصدير البيانات**: إمكانية تصدير التقارير مع فلاتر متقدمة

## الهيكل التقني

### النماذج (Models)
- **MarketingReport**: نموذج رئيسي يحتوي على جميع حقول التقرير
- **User**: نموذج المستخدمين (العلاقة مع منشئ التقرير)

### المتحكمات (Controllers)
- **MarketingReportController**: متحكم شامل لإدارة جميع عمليات التقارير
  - `index()`: عرض قائمة التقارير
  - `create()`: عرض نموذج إنشاء تقرير جديد
  - `store()`: حفظ التقرير الجديد
  - `show()`: عرض تفاصيل التقرير
  - `edit()`: عرض نموذج تعديل التقرير
  - `update()`: تحديث التقرير
  - `destroy()`: حذف التقرير
  - `updateStatus()`: تحديث حالة التقرير
  - `export()`: تصدير التقارير

### قاعدة البيانات
جدول `marketing_reports` يحتوي على:
- معلومات المندوب والجهة
- تفاصيل الزيارة والاتفاق
- الصور والملاحظات
- معلومات التتبع والمراجعة

### الواجهات (Views)
- **index.blade.php**: صفحة قائمة التقارير مع الإحصائيات
- **create.blade.php**: نموذج إنشاء تقرير جديد
- **show.blade.php**: عرض تفاصيل التقرير
- **edit.blade.php**: نموذج تعديل التقرير
- **export.blade.php**: صفحة نتائج التصدير

## الصلاحيات والأمان

### الصلاحيات المطلوبة
- `marketing_reports`: صلاحية الوصول لنظام تقارير المندوبين التسويقيين

### الحماية
- جميع الصفحات محمية بـ middleware
- التحقق من صحة البيانات المدخلة
- حماية من CSRF attacks
- التحقق من صلاحيات المستخدم

## كيفية الاستخدام

### 1. الوصول للنظام
1. تسجيل الدخول بحساب فريق المبيعات
2. الانتقال إلى "التقارير" في القائمة الجانبية
3. اختيار "تقارير المندوبين التسويقيين"

### 2. إنشاء تقرير جديد
1. النقر على "تقرير جديد"
2. ملء جميع الحقول المطلوبة
3. رفع الصور (اختياري)
4. النقر على "حفظ التقرير"

### 3. إدارة التقارير
1. عرض قائمة التقارير
2. استخدام الفلاتر للبحث
3. النقر على "عرض" لرؤية التفاصيل
4. النقر على "تعديل" لتعديل التقرير
5. استخدام "تغيير الحالة" لإدارة حالة التقرير

### 4. تصدير التقارير
1. النقر على "تصدير"
2. اختيار معايير التصدير
3. النقر على "تصدير"
4. مراجعة النتائج

## الحقول المطلوبة

### معلومات المندوب
- اسم المندوب (مطلوب)

### معلومات الجهة
- اسم الجهة (مطلوب)
- نشاط الجهة (مطلوب)
- عنوان الجهة التفصيلي (مطلوب)
- صور المكان (اختياري)

### معلومات المسئول
- اسم المسئول (مطلوب)
- رقم الجوال (مطلوب)
- المنصب (مطلوب)

### تفاصيل الزيارة
- نوع الزيارة (مطلوب)
- حالة الاتفاق (مطلوب)
- مخاوف العميل (اختياري)

### التفاصيل التجارية
- الكمية المستهدفة (مطلوب)
- الاستهلاك السنوي (مطلوب)

### التوصيات والخطوات
- توصيات مقترحة وملاحظات (اختياري)
- الخطوات اللاحقة (اختياري)
- ملاحظات إضافية (اختياري)

## أنواع البيانات المدعومة

### أنواع الزيارة
- زيارة مقر
- اتصال
- رسائل Whatsapp

### حالات الاتفاق
- تم الاتفاق
- تم الرفض
- بحاجة إلى وقت

### أنشطة الجهة
- أكاديمية رياضية
- مدرسة
- مؤسسة / شركة
- محل جملة
- محل تجزئة
- أخرى

### مخاوف العميل
- الخامة
- الجودة
- وقت التسليم
- السعر
- أخرى (قابلة للتخصيص)

## التطوير المستقبلي

### ميزات مقترحة
1. **إشعارات تلقائية**: إشعارات عند إنشاء تقارير جديدة
2. **تتبع الموقع**: إضافة GPS للمواقع المزارة
3. **تقارير PDF**: تصدير التقارير بصيغة PDF
4. **رسوم بيانية**: رسوم بيانية للإحصائيات
5. **تكامل الواتساب**: إرسال التقارير عبر الواتساب
6. **نظام الموافقات**: نظام موافقات متعدد المستويات

### تحسينات تقنية
1. **تحسين الأداء**: فهرسة قاعدة البيانات
2. **ذاكرة التخزين المؤقت**: تخزين مؤقت للاستعلامات
3. **API**: تطوير API للوصول الخارجي
4. **اختبارات**: إضافة اختبارات شاملة

## الدعم والمساعدة

للحصول على الدعم أو الإبلاغ عن مشاكل:
1. مراجعة هذا الدليل
2. التحقق من سجلات النظام
3. التواصل مع فريق التطوير

---

**تاريخ الإنشاء**: 18 أكتوبر 2025  
**الإصدار**: 1.0  
**المطور**: فريق إنفينيتي وير
