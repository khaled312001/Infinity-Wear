<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>اختبار التصحيح</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1>اختبار التصحيح</h1>
        
        <div class="row">
            <div class="col-12">
                <h3>اختبار تحميل الـ JavaScript:</h3>
                <div id="script-status" class="alert alert-info">جاري التحقق...</div>
            </div>
        </div>
        
        <div class="row mt-3">
            <div class="col-12">
                <h3>اختبار الدوال:</h3>
                <div id="function-status" class="alert alert-info">جاري التحقق...</div>
            </div>
        </div>
        
        <div class="row mt-3">
            <div class="col-12">
                <h3>اختبار الأزرار:</h3>
                <button class="btn btn-primary" onclick="testEdit()">اختبار التعديل</button>
                <button class="btn btn-warning" onclick="testToggle()">اختبار التفعيل</button>
                <button class="btn btn-danger" onclick="testDelete()">اختبار الحذف</button>
            </div>
        </div>
        
        <div class="row mt-3">
            <div class="col-12">
                <div id="result" class="alert alert-secondary">النتائج ستظهر هنا...</div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Admin Services JS -->
    <script src="js/admin-services.js" onload="scriptLoaded()" onerror="scriptError()"></script>
    
    <script>
        function scriptLoaded() {
            document.getElementById('script-status').innerHTML = '✅ تم تحميل admin-services.js بنجاح';
            document.getElementById('script-status').className = 'alert alert-success';
            checkFunctions();
        }
        
        function scriptError() {
            document.getElementById('script-status').innerHTML = '❌ فشل في تحميل admin-services.js';
            document.getElementById('script-status').className = 'alert alert-danger';
        }
        
        function checkFunctions() {
            setTimeout(function() {
                let status = '';
                status += 'editService: ' + (typeof editService === 'function' ? '✅' : '❌') + '<br>';
                status += 'toggleServiceStatus: ' + (typeof toggleServiceStatus === 'function' ? '✅' : '❌') + '<br>';
                status += 'deleteService: ' + (typeof deleteService === 'function' ? '✅' : '❌') + '<br>';
                status += 'initServices: ' + (typeof initServices === 'function' ? '✅' : '❌') + '<br>';
                
                document.getElementById('function-status').innerHTML = status;
                document.getElementById('function-status').className = 'alert alert-success';
            }, 100);
        }
        
        function testEdit() {
            if (typeof editService === 'function') {
                document.getElementById('result').innerHTML = '✅ دالة التعديل تعمل بشكل صحيح';
                document.getElementById('result').className = 'alert alert-success';
                console.log('Edit function test passed');
            } else {
                document.getElementById('result').innerHTML = '❌ دالة التعديل غير متاحة';
                document.getElementById('result').className = 'alert alert-danger';
                console.error('Edit function not available');
            }
        }
        
        function testToggle() {
            if (typeof toggleServiceStatus === 'function') {
                document.getElementById('result').innerHTML = '✅ دالة التفعيل تعمل بشكل صحيح';
                document.getElementById('result').className = 'alert alert-success';
                console.log('Toggle function test passed');
            } else {
                document.getElementById('result').innerHTML = '❌ دالة التفعيل غير متاحة';
                document.getElementById('result').className = 'alert alert-danger';
                console.error('Toggle function not available');
            }
        }
        
        function testDelete() {
            if (typeof deleteService === 'function') {
                document.getElementById('result').innerHTML = '✅ دالة الحذف تعمل بشكل صحيح';
                document.getElementById('result').className = 'alert alert-success';
                console.log('Delete function test passed');
            } else {
                document.getElementById('result').innerHTML = '❌ دالة الحذف غير متاحة';
                document.getElementById('result').className = 'alert alert-danger';
                console.error('Delete function not available');
            }
        }
        
        // Check if script loaded after 2 seconds
        setTimeout(function() {
            if (document.getElementById('script-status').innerHTML === 'جاري التحقق...') {
                document.getElementById('script-status').innerHTML = '⚠️ لم يتم تحميل الـ script بعد 2 ثانية';
                document.getElementById('script-status').className = 'alert alert-warning';
            }
        }, 2000);
    </script>
</body>
</html>
